{% extends "bootstrap/base.html" %}
<!-- specify a title to insert into the 'base' template slot named title -->
{% block title %}
    Search
{% endblock %}

<!-- header data -->
{% include "head_meta.html" %}


<!-- specify html body content to insert into the 'base' template slot named content -->
{% block content %}
        <div class="theme-background"></div>

        <div class="body">

            <!-- Nav Bar -->
            {% include "nav_buttons.html" %}

            <br>
            <br>

            <div class="widget-title font-highlight font-size-large">SEARCH FOR A RECIPE</div>

            <form method="POST" action="{{ url_for('search') }}" novalidate>
                <div class="search-field-group">
                    <div class="flex-parent-vertical font-size-standard font-standard">
                        <div class="search-field-row flex-parent-horizontal">
                            <div class="search-field">{{ search_form.search_term.label }}  {{ search_form.search_term(class="text-entry-standard") }}</div>
                        </div>
                        <div class="search-field-row flex-parent-horizontal">
                            <div class="search-field">{{ search_form.recipe_type.label }}  {{ search_form.recipe_type(class="combo-standard") }}</div>
                            <div class="search-field">{{ search_form.recipe_ingredient.label }}  {{ search_form.recipe_ingredient(class="combo-standard") }}</div>
                        </div>
                        <div class="search-field-row flex-parent-horizontal">
                            <div class="search-field">{{ search_form.vegetarian.label }} {{ search_form.vegetarian(class="checkbox-entry ingredient-entry-field") }}</div>
                            <div class="search-field">{{ search_form.low_fat.label }} {{ search_form.low_fat(class="checkbox-entry ingredient-entry-field") }}</div>
                            <div class="search-field">{{ search_form.low_calorie.label }} {{ search_form.low_calorie(class="checkbox-entry ingredient-entry-field") }}</div>
                            <div class="search-field">{{ search_form.quick_meal.label }} {{ search_form.quick_meal(class="checkbox-entry ingredient-entry-field") }}</div>
                        </div>
                        <div class="search-field-row flex-parent-horizontal">
                            <div class="search-field">{{ search_form.random.label }} {{ search_form.random(class="checkbox-entry ingredient-entry-field") }}</div>
                        </div>
                    </div>

                    <div class="nav-button">
                        {{ search_form.submit(class="btn btn-warning submit-button font-standard") }}
                    </div>
                    <div class="badge-definitions">
                        {% for definition in badge_definitions: %}
                            <div class="font-standard font-size-tiny">
                                {{ definition }}
                            </div>
                        {% endfor %}
                    </div>
                </div>
            </form>

            <!-- RESULTS -->
            {% if message | length > 0 or search_results | length > 0 %}
                <div>
                    <div class="widget-title font-highlight font-size-large">SEARCH RESULTS</div>

                    <!-- response message -->
                    <div class="font-standard font-size-standard">{{ message }}</div>

                    <!-- RESULT CARDS -->
                    <div class="recipe-cards flex-parent-horizontal">
                        {% for recipe in search_results: %}
                            <div class="recipe-card">
                                <a  href="{{ url_for('recipe', recipe_id=recipe['RecipeID']) }}">
                                    <img src="{{ recipe['PhotoURL'] }}" alt="recipe photo" class="recipe-card-image">
                                    <div class="recipe-card-title font-size-standard font-highlight font-bold flex-parent-vertical">{{ recipe['RecipeName'] }}</div>
                                    <div class="recipe-card-data flex-parent-vertical font-standard font-size-small">
                                        <div>Cook Time: {{ recipe['CookingTime'] }}</div>
                                        {% if recipe['BadgeList'] %}
                                            <div>{{ recipe['BadgeList'] }}</div>
                                        {% endif %}
                                        {% if recipe['TagList'] %}
                                            <div>Tags: {{ recipe['TagList'] }}</div>
                                        {% endif %}
                                    </div>
                                </a>
                            </div>
                        {% endfor %}
                    </div>
                </div>
            {% endif %}
        </div>
{% endblock %}